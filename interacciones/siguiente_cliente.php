<?php	header('Content-Type: application/json');	include("../conexi.php");	$link=Conectarse();		$respuesta = array();			$consulta = "SELECT 	CONCAT(nombre, ' ' , apellidos) as nombre ,	id_clientes,	telefono,	estado,	correo,	especialidad,	domicilio,	datos_extra		FROM clientes	";		if(($_GET["id_clientes"]) != ""){				$consulta .=" WHERE id_clientes = '{$_GET["id_clientes"]}'";			}		$consulta .=		"	LIMIT 50";		$result = mysqli_query( $link, $consulta ) 	or die("Error al ejecutar consulta: $consulta".mysqli_error($link));				while($cliente = mysqli_fetch_assoc($result)) {		$consulta_historial = "		SELECT * 		FROM		interacciones		WHERE id_clientes = '{$cliente["id_clientes"]}'				";				$result_historial= mysqli_query( $link, $consulta_historial );		if($result_historial){			// $respuesta["consulta_productos"][] = $consulta_historial; 						// if()									while($historial = mysqli_fetch_assoc($result_historial)) {				// $respuesta["productos"][] = $productos; 								$cliente["historial"][] = $historial; 											}		}		else{			$respuesta["result_productos"] = mysqli_error($link); 		}				$respuesta["clientes"][] =  $cliente;			}		$respuesta["num_filas"] = mysqli_num_rows($result) ;			// $respuesta["mensaje"] =  $count_rows < 1 ? $mensaje_error : "OK";	// $respuesta["encontrado"] =  $count_rows < 1 ? 0 : 1;	$respuesta["consulta"] =  $consulta;			print(json_encode($respuesta));		?>	